#!python
cubit.cmd('reset')
cubit.cmd('echo off')
cubit.cmd('set journal off')
cubit.cmd('set info off')
cubit.cmd('#{r0       = 1.e-3}')
cubit.cmd('#{width    = 50}')
cubit.cmd('#{height   = 50}')
cubit.cmd('#{depth    = 0.7e-3/r0}')
cubit.cmd('#{hf       = 0.05}')
cubit.cmd('#{hc       = 0.35}')
cubit.cmd('#{hBrittle = 4}')
cubit.cmd('#{wBrittle = 4}')
cubit.cmd('#{R        = 2}')
cubit.cmd('#{lc       = 0.5}')
cubit.cmd('#{lf       = 0.5}')
cubit.cmd('#{epsc     = lc}')
cubit.cmd('create brick x {width} y {height} z {depth}')
cubit.cmd('create brick x {wBrittle+R} y {hBrittle+2.*R} z {depth}')
cubit.cmd('move volume 2 x {-width/2+wBrittle/2+R/2}')
cubit.cmd('create brick x {wBrittle} y {hBrittle} z {depth}')
cubit.cmd('move volume 3 x {-width/2+wBrittle/2}')
cubit.cmd('webcut Volume 1 tool Body 2 ')
cubit.cmd('delete Body 2 ')
cubit.cmd('webcut Volume 4 tool Body 3 ')
cubit.cmd('delete Body 3')
cubit.cmd('create vertex x {-width/2} Y {-epsc/2} z {-depth}')
cubit.cmd('create vertex x {-width/2+lc} Y {0} z {-depth}')
cubit.cmd('create vertex x {-width/2} Y {epsc/2} z {-depth}')
cubit.cmd('create surface vertex 57 58 59 ')
cubit.cmd('webcut volume 5 sweep surface 45 perpendicular outward through_all')
cubit.cmd('delete body 6 ')
cubit.cmd('delete volume 7')
cubit.cmd('webcut volume 5 with plane xplane offset {-width/2+lc+lf}')
cubit.cmd('webcut volume 8 with plane yplane offset 0')
cubit.cmd('imprint all')
cubit.cmd('merge all')
cubit.cmd('unmerge surface 67')
cubit.cmd('block 1 volume 5 8 9')
cubit.cmd('block 2 volume 1 4')
cubit.cmd('block 30 surface 46 47')
cubit.cmd('block 31 surface 67 71')
cubit.cmd('block 33 surface 22 38 58 70 72')
cubit.cmd('block 32 surface 24 37 60 68 74')
cubit.cmd('nodeset 400 vertex 7')
cubit.cmd('nodeset 401 vertex 8')
cubit.cmd('nodeset 402 vertex 6')
cubit.cmd('nodeset 500 vertex 4')
cubit.cmd('nodeset 501 vertex 3')
cubit.cmd('nodeset 502 vertex 1')
cubit.cmd('nodeset 600 curve 128')
cubit.cmd('volume all scheme tetmesh')
cubit.cmd('volume 1 size {hc}')
cubit.cmd('volume 5 8 9 size {hf}')
cubit.cmd('mesh volume 5')
cubit.cmd('mesh volume 8')
cubit.cmd('mesh volume 9')
cubit.cmd('surface in volume 1 scheme tridelaunay')
cubit.cmd('tridelaunay point placement gq')
cubit.cmd('mesh volume 1')
cubit.cmd('mesh volume 4')
cubit.cmd('set info on')
cubit.cmd('quality volume all shape global list verbose errors')
cubit.cmd('set exodus netcdf4 off')
cubit.cmd('set large exodus file on')
cubit.cmd('export mesh "LCSS3D3.gen"  dimension 3  overwrite ')
